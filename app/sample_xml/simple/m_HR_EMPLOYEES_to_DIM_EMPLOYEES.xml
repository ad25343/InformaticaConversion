<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE POWERMART SYSTEM "powrmart.dtd">
<POWERMART CREATION_DATE="02/21/2026 09:00:00" REPOSITORY_VERSION="186.96">
  <REPOSITORY NAME="DEV_REPO" VERSION="186" CODEPAGE="UTF-8" DATABASETYPE="Oracle">
    <FOLDER NAME="HR_ETL" GROUP="" OWNER="admin" SHARED="NOTSHARED"
            DESCRIPTION="HR dimension loads — simple mappings">

      <!-- ═══════════════════════════════════════════════════════
           SOURCE: HR staging employees table
      ════════════════════════════════════════════════════════ -->
      <SOURCE BUSINESSNAME="" DATABASETYPE="Oracle" DBDNAME="HR_DB"
              DESCRIPTION="HR source employees" NAME="STG_EMPLOYEES" OWNERNAME="HR">
        <SOURCEFIELD DATATYPE="NUMBER"   LENGTH="10"  NAME="EMP_ID"      NULLABLE="NOTNULL" FIELDNUMBER="1" FIELDTYPE="ELEMITEM" PRECISION="10" SCALE="0"/>
        <SOURCEFIELD DATATYPE="VARCHAR2" LENGTH="50"  NAME="FIRST_NAME"  NULLABLE="NULL"    FIELDNUMBER="2" FIELDTYPE="ELEMITEM" PRECISION="50" SCALE="0"/>
        <SOURCEFIELD DATATYPE="VARCHAR2" LENGTH="50"  NAME="LAST_NAME"   NULLABLE="NULL"    FIELDNUMBER="3" FIELDTYPE="ELEMITEM" PRECISION="50" SCALE="0"/>
        <SOURCEFIELD DATATYPE="VARCHAR2" LENGTH="10"  NAME="DEPT_CODE"   NULLABLE="NULL"    FIELDNUMBER="4" FIELDTYPE="ELEMITEM" PRECISION="10" SCALE="0"/>
        <SOURCEFIELD DATATYPE="NUMBER"   LENGTH="12"  NAME="SALARY"      NULLABLE="NULL"    FIELDNUMBER="5" FIELDTYPE="ELEMITEM" PRECISION="12" SCALE="2"/>
        <SOURCEFIELD DATATYPE="DATE"     LENGTH="29"  NAME="HIRE_DATE"   NULLABLE="NULL"    FIELDNUMBER="6" FIELDTYPE="ELEMITEM" PRECISION="29" SCALE="9"/>
        <SOURCEFIELD DATATYPE="VARCHAR2" LENGTH="1"   NAME="ACTIVE_FLAG" NULLABLE="NULL"    FIELDNUMBER="7" FIELDTYPE="ELEMITEM" PRECISION="1"  SCALE="0"/>
      </SOURCE>

      <!-- ═══════════════════════════════════════════════════════
           TARGET: HR dimension table
      ════════════════════════════════════════════════════════ -->
      <TARGET BUSINESSNAME="" DATABASETYPE="Oracle" DESCRIPTION="Employee dimension"
              NAME="DIM_EMPLOYEES" OWNERNAME="DWH">
        <TARGETFIELD DATATYPE="NUMBER"   LENGTH="10"  NAME="EMP_KEY"        KEYTYPE="PRIMARY KEY" FIELDNUMBER="1"  PRECISION="10" SCALE="0" NULLABLE="NOTNULL"/>
        <TARGETFIELD DATATYPE="VARCHAR2" LENGTH="101" NAME="FULL_NAME"       KEYTYPE="NOT A KEY"   FIELDNUMBER="2"  PRECISION="101" SCALE="0" NULLABLE="NULL"/>
        <TARGETFIELD DATATYPE="VARCHAR2" LENGTH="10"  NAME="DEPT_CODE"       KEYTYPE="NOT A KEY"   FIELDNUMBER="3"  PRECISION="10" SCALE="0" NULLABLE="NULL"/>
        <TARGETFIELD DATATYPE="NUMBER"   LENGTH="12"  NAME="SALARY"          KEYTYPE="NOT A KEY"   FIELDNUMBER="4"  PRECISION="12" SCALE="2" NULLABLE="NULL"/>
        <TARGETFIELD DATATYPE="VARCHAR2" LENGTH="10"  NAME="SALARY_BAND"     KEYTYPE="NOT A KEY"   FIELDNUMBER="5"  PRECISION="10" SCALE="0" NULLABLE="NULL"/>
        <TARGETFIELD DATATYPE="VARCHAR2" LENGTH="7"   NAME="HIRE_YEAR_MONTH" KEYTYPE="NOT A KEY"   FIELDNUMBER="6"  PRECISION="7"  SCALE="0" NULLABLE="NULL"/>
        <TARGETFIELD DATATYPE="VARCHAR2" LENGTH="1"   NAME="ACTIVE_FLAG"     KEYTYPE="NOT A KEY"   FIELDNUMBER="7"  PRECISION="1"  SCALE="0" NULLABLE="NULL"/>
      </TARGET>

      <!-- ═══════════════════════════════════════════════════════
           MAPPING: m_HR_EMPLOYEES_to_DIM_EMPLOYEES
           Complexity: LOW
           Transformations: SQ → EXP → Target (3 total)
           Logic: concat name, derive salary band, format hire date
      ════════════════════════════════════════════════════════ -->
      <MAPPING DESCRIPTION="Load HR employees to dimension table. Derives full name, salary band, and hire year-month."
               ISVALID="YES" NAME="m_HR_EMPLOYEES_to_DIM_EMPLOYEES"
               OBJECTVERSION="1" VERSIONNUMBER="1">

        <!-- Source Qualifier -->
        <TRANSFORMATION NAME="SQ_STG_EMPLOYEES" TYPE="Source Qualifier"
                        REUSABLE="NO" OBJECTVERSION="1" VERSIONNUMBER="1"
                        DESCRIPTION="Read all active and inactive employees from HR staging">
          <TRANSFORMFIELD DATATYPE="NUMBER"   NAME="EMP_ID"      PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="10" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="FIRST_NAME"  PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="50" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="LAST_NAME"   PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="50" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="DEPT_CODE"   PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="10" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="NUMBER"   NAME="SALARY"      PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="12" SCALE="2"/>
          <TRANSFORMFIELD DATATYPE="DATE"     NAME="HIRE_DATE"   PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="29" SCALE="9"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="ACTIVE_FLAG" PORTTYPE="OUTPUT" EXPRESSION="" PRECISION="1"  SCALE="0"/>
          <TABLEATTRIBUTE NAME="Sql Query"      VALUE=""/>
          <TABLEATTRIBUTE NAME="Source Filter"  VALUE=""/>
        </TRANSFORMATION>

        <!-- Expression: business derivations -->
        <TRANSFORMATION NAME="EXP_EMPLOYEE_RULES" TYPE="Expression"
                        REUSABLE="NO" OBJECTVERSION="1" VERSIONNUMBER="1"
                        DESCRIPTION="Derive full name, salary band, and formatted hire date">
          <!-- Pass-through inputs -->
          <TRANSFORMFIELD DATATYPE="NUMBER"   NAME="EMP_ID"      PORTTYPE="INPUT/OUTPUT" EXPRESSION="EMP_ID"      PRECISION="10" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="FIRST_NAME"  PORTTYPE="INPUT/OUTPUT" EXPRESSION="FIRST_NAME"  PRECISION="50" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="LAST_NAME"   PORTTYPE="INPUT/OUTPUT" EXPRESSION="LAST_NAME"   PRECISION="50" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="DEPT_CODE"   PORTTYPE="INPUT/OUTPUT" EXPRESSION="DEPT_CODE"   PRECISION="10" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="NUMBER"   NAME="SALARY"      PORTTYPE="INPUT/OUTPUT" EXPRESSION="SALARY"      PRECISION="12" SCALE="2"/>
          <TRANSFORMFIELD DATATYPE="DATE"     NAME="HIRE_DATE"   PORTTYPE="INPUT/OUTPUT" EXPRESSION="HIRE_DATE"   PRECISION="29" SCALE="9"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="ACTIVE_FLAG" PORTTYPE="INPUT/OUTPUT" EXPRESSION="ACTIVE_FLAG" PRECISION="1"  SCALE="0"/>
          <!-- Derived outputs -->
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="FULL_NAME"
                          PORTTYPE="OUTPUT"
                          EXPRESSION="LTRIM(RTRIM(FIRST_NAME)) || &apos; &apos; || LTRIM(RTRIM(LAST_NAME))"
                          PRECISION="101" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="SALARY_BAND"
                          PORTTYPE="OUTPUT"
                          EXPRESSION="IIF(SALARY &lt; 40000, &apos;BAND_1&apos;, IIF(SALARY &lt; 70000, &apos;BAND_2&apos;, IIF(SALARY &lt; 100000, &apos;BAND_3&apos;, &apos;BAND_4&apos;)))"
                          PRECISION="10" SCALE="0"/>
          <TRANSFORMFIELD DATATYPE="VARCHAR2" NAME="HIRE_YEAR_MONTH"
                          PORTTYPE="OUTPUT"
                          EXPRESSION="TO_CHAR(HIRE_DATE, &apos;YYYY-MM&apos;)"
                          PRECISION="7" SCALE="0"/>
        </TRANSFORMATION>

        <!-- Connectors: SQ → EXP -->
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="EMP_ID"      TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="EMP_ID"/>
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="FIRST_NAME"  TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="FIRST_NAME"/>
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="LAST_NAME"   TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="LAST_NAME"/>
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="DEPT_CODE"   TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="DEPT_CODE"/>
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="SALARY"      TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="SALARY"/>
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="HIRE_DATE"   TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="HIRE_DATE"/>
        <CONNECTOR FROMINSTANCE="SQ_STG_EMPLOYEES" FROMINSTANCETYPE="Source Qualifier" FROMFIELD="ACTIVE_FLAG" TOINSTANCE="EXP_EMPLOYEE_RULES" TOINSTANCETYPE="Expression" TOFIELD="ACTIVE_FLAG"/>

        <!-- Connectors: EXP → Target -->
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="EMP_ID"          TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="EMP_KEY"/>
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="FULL_NAME"        TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="FULL_NAME"/>
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="DEPT_CODE"        TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="DEPT_CODE"/>
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="SALARY"           TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="SALARY"/>
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="SALARY_BAND"      TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="SALARY_BAND"/>
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="HIRE_YEAR_MONTH"  TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="HIRE_YEAR_MONTH"/>
        <CONNECTOR FROMINSTANCE="EXP_EMPLOYEE_RULES" FROMINSTANCETYPE="Expression" FROMFIELD="ACTIVE_FLAG"      TOINSTANCE="DIM_EMPLOYEES" TOINSTANCETYPE="Target Definition" TOFIELD="ACTIVE_FLAG"/>

      </MAPPING>
    </FOLDER>
  </REPOSITORY>
</POWERMART>
